"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[494],{6884:(t,e,r)=>{r.d(e,{Z:()=>s});var a=r(3645),o=r.n(a)()((function(t){return t[1]}));o.push([t.id,".gradient-custom-3[data-v-3ca629c8]{background:#84fab0;background:linear-gradient(90deg,rgba(132,250,176,.5),rgba(143,211,244,.5))}",""]);const s=o},5903:(t,e,r)=>{r.r(e),r.d(e,{default:()=>m});var a=r(5807);const o={data:function(){return{form:{fname:null,lname:null,email:null,password:null,confirm:null},error:{first_name:"",last_name:"",email:"",password:"",confirm:""}}},components:{},props:[],computed:{},methods:{register:function(){var t=this;return new Promise((function(e,r){axios({method:"post",params:{first_name:t.form.fname,last_name:t.form.lname,email:t.form.email,password:t.form.password,confirm:t.form.confirm},url:"/api/auth/register"}).then((function(e){t.authenticate()})).catch((function(e){t.error.first_name=e.response.data.first_name,t.error.last_name=e.response.data.last_name,t.error.email=e.response.data.email,t.error.password=e.response.data.password,t.error.confirm=e.response.data.confirm,r(e)}))}))},authenticate:function(){var t=this;this.$store.dispatch("login"),(0,a.x)(this.form).then((function(e){t.$store.commit("loginSuccess",e);var r="Bearer ".concat(t.$store.getters.currentUser.token);axios({method:"get",url:"/api/cart/",headers:{Authorization:r}}).then((function(e){t.$store.commit("mutateCartCount",e.data.cart_count)})).catch((function(t){})),t.$router.push("/")})).catch((function(e){t.$store.commit("loginFailed",{error:e})}))}},watch:{$data:{handler:function(t,e){console.log("watcher: ",t)},deep:!0}},updated:function(){},mounted:function(){}};var s=r(3379),n=r.n(s),i=r(6884),l={insert:"head",singleton:!1};n()(i.Z,l);i.Z.locals;const m=(0,r(1900).Z)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"vh-100"},[r("div",{staticClass:"mask space-intro d-flex align-items-center h-100 gradient-custom-3 pb-5"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row d-flex justify-content-center align-items-center h-100"},[r("div",{staticClass:"col-12 col-md-9 col-lg-7 col-xl-6"},[r("div",{staticClass:"card",staticStyle:{"border-radius":"15px"}},[r("div",{staticClass:"card-body p-5"},[r("h2",{staticClass:"text-uppercase text-center mb-3"},[t._v("\n                  Create an account\n                ")]),t._v(" "),r("form",{on:{submit:function(e){return e.preventDefault(),t.register.apply(null,arguments)}}},[r("div",{staticClass:"form-outline mb-4"},[r("label",{staticClass:"form-label",attrs:{for:"form3Example1cg"}},[t._v("First Name:")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.fname,expression:"form.fname"}],staticClass:"form-control form-control-lg",attrs:{type:"text",id:"form3Example1cg",required:""},domProps:{value:t.form.fname},on:{input:function(e){e.target.composing||t.$set(t.form,"fname",e.target.value)}}}),t._v(" "),t._l(t.error.first_name,(function(e,a){return r("span",{key:a,staticClass:"text-danger"},[t._v(t._s(e))])}))],2),t._v(" "),r("div",{staticClass:"form-outline mb-4"},[r("label",{staticClass:"form-label",attrs:{for:"form4Example1cg"}},[t._v("Last Name")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.lname,expression:"form.lname"}],staticClass:"form-control form-control-lg",attrs:{type:"text",id:"form4Example1cg",required:""},domProps:{value:t.form.lname},on:{input:function(e){e.target.composing||t.$set(t.form,"lname",e.target.value)}}}),t._v(" "),t._l(t.error.last_name,(function(e,a){return r("span",{key:a,staticClass:"text-danger"},[t._v(t._s(e))])}))],2),t._v(" "),r("div",{staticClass:"form-outline mb-4"},[r("label",{staticClass:"form-label",attrs:{for:"form3Example3cg"}},[t._v("Your Email")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control form-control-lg",attrs:{type:"email",id:"form3Example3cg",required:""},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),t._v(" "),t._l(t.error.email,(function(e,a){return r("span",{key:a,staticClass:"text-danger"},[t._v(t._s(e))])}))],2),t._v(" "),r("div",{staticClass:"form-outline mb-4"},[r("label",{staticClass:"form-label",attrs:{for:"form3Example4cg"}},[t._v("Password")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control form-control-lg",attrs:{type:"password",id:"form3Example4cg",required:""},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),t._v(" "),t._l(t.error.password,(function(e,a){return r("span",{key:a,staticClass:"text-danger"},[t._v(t._s(e))])}))],2),t._v(" "),r("div",{staticClass:"form-outline mb-4"},[r("label",{staticClass:"form-label",attrs:{for:"form3Example4cdg"}},[t._v("Repeat password")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.confirm,expression:"form.confirm"}],staticClass:"form-control form-control-lg",attrs:{type:"password",id:"form3Example4cdg",required:""},domProps:{value:t.form.confirm},on:{input:function(e){e.target.composing||t.$set(t.form,"confirm",e.target.value)}}}),t._v(" "),t._l(t.error.confirm,(function(e,a){return r("span",{key:a,staticClass:"text-danger"},[t._v(t._s(e))])}))],2),t._v(" "),t._m(0),t._v(" "),r("p",{staticClass:"text-center text-muted mt-5 mb-0"},[t._v("\n                    Have already an account?\n                    "),r("router-link",{staticClass:"fw-bold text-body",attrs:{to:"/login"}},[r("u",[t._v("Login here")])])],1)])])])])])])])])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex justify-content-center"},[r("button",{staticClass:"btn btn-primary btn-block btn-lg text-white",attrs:{type:"submit"}},[t._v("\n                      Register\n                    ")])])}],!1,null,"3ca629c8",null).exports}}]);