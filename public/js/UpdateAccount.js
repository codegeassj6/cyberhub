"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[531],{3001:(t,a,e)=>{e.r(a),e.d(a,{default:()=>r});const s={data:function(){return{form:{first_name:"",last_name:"",birthday:"",contact:"",address:"",email:"",file:"",boolUpload:!0,photo:""},user:"",error:{birthday:"",first_name:"",last_name:"",contact:""}}},components:{},props:[],computed:{currentUser:function(){return this.$store.getters.currentUser},getProfilePicture:function(){return"/storage/user/"+this.user.id+"/img/"+this.user.profile_img}},methods:{updateProfile:function(t){t.target.setAttribute("disabled",!0);var a="Bearer ".concat(this.$store.getters.currentUser.token);axios({method:"post",params:{username:this.form.username,first_name:this.form.first_name,last_name:this.form.last_name,birthday:this.form.birthday,contact:this.form.contact,address:this.form.address},url:"/api/account/update",headers:{Authorization:a}}).then((function(a){t.target.removeAttribute("disabled")})).catch((function(t){}))},uploadTriggerInput:function(){var t=document.getElementById("input_upload");if(t&&document.createEvent){var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!1),t.dispatchEvent(a)}},inputFile:function(t){this.form.file=t.target.files[0]||t.dataTransfer.files[0],this.form.file&&(this.form.boolUpload=!1,document.getElementById("myPhoto").src=URL.createObjectURL(this.form.file))},cancelUpload:function(){this.form.file=null,this.form.boolUpload=!0,document.getElementById("myPhoto").src=this.form.photo},uploadImage:function(){var t=this,a=new FormData;a.set("image",this.form.file);var e="Bearer ".concat(this.$store.getters.currentUser.token);axios.post("/api/account/update/image",a,{headers:{Authorization:e}}).then((function(a){t.form.boolUpload=!0})).catch((function(t){}))},getAuthUserDetails:function(){var t=this,a="Bearer ".concat(this.$store.getters.currentUser.token);axios({method:"get",url:"/api/auth/me",headers:{Authorization:a}}).then((function(a){t.user=a.data,t.form.first_name=a.data.first_name,t.form.last_name=a.data.last_name,t.form.email=a.data.email,t.form.address=a.data.address,t.form.contact=a.data.contact,t.form.birthday=a.data.birthday,t.form.photo=a.data.profile_img?t.getProfilePicture:"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y"})).catch((function(t){}))}},updated:function(){},mounted:function(){this.getAuthUserDetails()}};const r=(0,e(1900).Z)(s,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"space-intro"},[e("div",{staticClass:"container"},[e("div",{staticClass:"container-xl px-4 mt-4"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-4"},[e("div",{staticClass:"card mb-4 mb-xl-0"},[e("div",{staticClass:"card-header"},[t._v("Profile Picture")]),t._v(" "),e("div",{staticClass:"card-body text-center"},[e("img",{staticClass:"img-account-profile rounded-circle mb-2",attrs:{width:"300",height:"300",src:t.form.photo,id:"myPhoto",alt:""}}),t._v(" "),e("div",{staticClass:"small font-italic text-muted mb-4"},[t._v("\n                  JPG or PNG no larger than 5 MB\n                ")]),t._v(" "),e("input",{staticClass:"d-none",attrs:{type:"file",id:"input_upload",accept:"image/png, image/jpg, image/jpeg"},on:{change:t.inputFile}}),t._v(" "),t.form.boolUpload?[e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.uploadTriggerInput}},[t._v("\n                    Upload Image\n                  ")])]:[e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.cancelUpload}},[t._v("\n                    Cancel\n                  ")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.uploadImage}},[t._v("\n                    Upload\n                  ")])]],2)])]),t._v(" "),e("div",{staticClass:"col-xl-8"},[e("div",{staticClass:"card mb-4"},[e("div",{staticClass:"card-header"},[t._v("Account Details")]),t._v(" "),e("div",{staticClass:"card-body"},[e("form",[e("div",{staticClass:"row gx-3 mb-3"},[e("div",{staticClass:"col-md-6"},[e("label",{staticClass:"small mb-1",attrs:{for:"inputFirstName"}},[t._v("First name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.first_name,expression:"form.first_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter your first name"},domProps:{value:t.form.first_name},on:{input:function(a){a.target.composing||t.$set(t.form,"first_name",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("label",{staticClass:"small mb-1",attrs:{for:"inputLastName"}},[t._v("Last name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.last_name,expression:"form.last_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter your last name",value:"Luna"},domProps:{value:t.form.last_name},on:{input:function(a){a.target.composing||t.$set(t.form,"last_name",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"small mb-1",attrs:{for:"inputEmailAddress"}},[t._v("Email address")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Enter your email address",disabled:""},domProps:{value:t.form.email},on:{input:function(a){a.target.composing||t.$set(t.form,"email",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"row gx-3 mb-3"},[e("div",{staticClass:"col-md-6"},[e("label",{staticClass:"small mb-1",attrs:{for:"inputPhone"}},[t._v("Phone number")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.contact,expression:"form.contact"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter your phone number"},domProps:{value:t.form.contact},on:{input:function(a){a.target.composing||t.$set(t.form,"contact",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("label",{staticClass:"small mb-1",attrs:{for:"inputBirthday"}},[t._v("Birthday")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.birthday,expression:"form.birthday"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.form.birthday},on:{input:function(a){a.target.composing||t.$set(t.form,"birthday",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"small mb-1",attrs:{for:"inputUsername"}},[t._v("Address")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.address,expression:"form.address"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter your Address"},domProps:{value:t.form.address},on:{input:function(a){a.target.composing||t.$set(t.form,"address",a.target.value)}}})]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateProfile}},[t._v("\n                    Save changes\n                  ")])])])])])])])])])])}),[],!1,null,null,null).exports}}]);