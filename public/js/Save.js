"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[121],{9277:(t,a,e)=>{e.d(a,{Z:()=>n});var s=e(3645),i=e.n(s)()((function(t){return t[1]}));i.push([t.id,".upload[data-v-a4977f7a]{height:200px;width:450px}@media (max-width:768px){.w-100[data-v-a4977f7a]{width:50%!important}}.p-10[data-v-a4977f7a]{padding:50px}",""]);const n=i},1628:(t,a,e)=>{e.r(a),e.d(a,{default:()=>d});const s={data:function(){return{}},components:{},props:["saves"],computed:{},methods:{download:function(t){var a="Bearer ".concat(this.$store.getters.currentUser.token);axios({method:"get",url:"/api/save/"+t.id,headers:{Authorization:a}}).then((function(t){})).catch((function(t){}))},deleteSave:function(t){var a=this;this.saves.forEach((function(e,s){e.id==t.id&&a.saves.splice(s,1)}));var e="Bearer ".concat(this.$store.getters.currentUser.token);axios({method:"delete",url:"/api/save/"+t.id,headers:{Authorization:e}}).then((function(t){})).catch((function(t){}))}},watch:{$data:{handler:function(t,a){console.log("watcher: ",t)},deep:!0}},updated:function(){},mounted:function(){}};var i=e(1900);const n={data:function(){return{input_file:"",isUploading:!1,saves:""}},components:{SaveListing:(0,i.Z)(s,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("ul",{staticClass:"list-group"},t._l(t.saves,(function(a,s){return e("li",{key:s,staticClass:"list-group-item"},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"me-2 bg-outline-info"},[t._v(t._s(a.file_name))]),t._v(" "),e("div",{staticClass:"ms-auto"},[e("span",{staticClass:"me-3"},[t._v(t._s(a.created_at))]),t._v(" "),e("a",{staticClass:"text-primary me-2",attrs:{href:"#!"},on:{click:function(e){return t.download(a)}}},[e("i",{staticClass:"fa fa-download"}),t._v(" Download")]),t._v(" "),e("a",{staticClass:"text-danger",attrs:{href:"#!"},on:{click:function(e){return t.deleteSave(a)}}},[e("i",{staticClass:"fa fa-trash-o"}),t._v(" Delete")])])])])})),0)])}),[],!1,null,"346f5b0c",null).exports},props:[],computed:{},methods:{dragOver:function(t){t.preventDefault(),this.$refs.dropbox.classList.add("shadow","border-5")},dragLeave:function(){this.$refs.dropbox.classList.remove("shadow","border-5")},dropped:function(t){t.preventDefault(),t.dataTransfer.files[0].size>2048e4?this.$parent.notification.message.push("File is too large. Only 20MB allowed!"):(this.input_file=t.dataTransfer.files[0],this.isUploading=!0)},inputFile:function(t){t.target.files[0].size>2048e4?this.$parent.notification.message.push("File is too large. Only 20MB allowed!"):(this.input_file=t.target.files[0]||t.dataTransfer.files[0],this.isUploading=!0)},UploadFile:function(){var t=this,a=new FormData;a.append("file",this.input_file);var e="Bearer ".concat(this.$store.getters.currentUser.token);axios.post("/api/save",a,{headers:{Authorization:e}}).then((function(a){t.isUploading=!1,t.input_file="",t.saves=a.data})).catch((function(t){}))},cancelUpload:function(){this.isUploading=!1}},watch:{$data:{handler:function(t,a){console.log("watcher: ",t)},deep:!0}},updated:function(){},mounted:function(){var t=this,a="Bearer ".concat(this.$store.getters.currentUser.token);axios({method:"get",url:"/api/save",headers:{Authorization:a}}).then((function(a){t.saves=a.data,console.log(t.saves)})).catch((function(t){}))}};var o=e(3379),r=e.n(o),l=e(9277),c={insert:"head",singleton:!1};r()(l.Z,c);l.Z.locals;const d=(0,i.Z)(n,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"space-intro"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-8"},[e("div",{staticClass:"d-flex justify-content-center mb-3",attrs:{id:"myId"}},[e("label",{ref:"dropbox",staticClass:"pointer border border-info",attrs:{for:"input_upload"},on:{dragover:t.dragOver,dragleave:t.dragLeave}},[e("div",{staticClass:"card border-0"},[e("div",{staticClass:"m-auto p-10 bg-muted upload text-center",on:{drop:t.dropped}},[e("input",{staticClass:"d-none",attrs:{type:"file",id:"input_upload",accept:".zip,.rar,.7zip"},on:{change:function(a){return t.inputFile(a)}}}),t._v(" "),e("i",{staticClass:"fa fa-upload fa-5x text-primary"})])])])]),t._v(" "),t.isUploading?e("div",{staticClass:"d-flex mb-4"},[t._m(0),t._v(" "),e("div",[e("button",{staticClass:"btn btn-sm btn-primary",on:{click:t.UploadFile}},[t._v("\n                Upload\n              ")]),t._v(" "),e("button",{staticClass:"btn btn-danger btn-sm",on:{click:t.cancelUpload}},[e("i",{staticClass:"fa fa-close"}),t._v(" Cancel\n              ")])])]):t._e(),t._v(" "),e("SaveListing",{attrs:{saves:t.saves}})],1),t._v(" "),e("div",{staticClass:"col-md-4"},[t._v("s")])])])])])}),[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"progress flex-fill mt-2 me-4"},[e("div",{staticClass:"progress-bar progress-bar-striped progress-bar-animated",staticStyle:{width:"0%"}},[t._v("\n                0%\n              ")])])}],!1,null,"a4977f7a",null).exports}}]);