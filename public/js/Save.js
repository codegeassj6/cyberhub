"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[121],{402:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o});const s={data:function(){return{}},components:{},props:["saves"],computed:{},methods:{download:function(t){var e="Bearer ".concat(this.$store.getters.currentUser.token);axios({method:"get",url:"/api/save/"+t.id,headers:{Authorization:e}}).then((function(t){})).catch((function(t){}))},deleteSave:function(t){var e=this;this.saves.forEach((function(a,s){a.id==t.id&&e.saves.splice(s,1)}));var a="Bearer ".concat(this.$store.getters.currentUser.token);axios({method:"delete",url:"/api/save/"+t.id,headers:{Authorization:a}}).then((function(t){})).catch((function(t){}))}},watch:{$data:{handler:function(t,e){console.log("watcher: ",t)},deep:!0}},updated:function(){},mounted:function(){}};var i=a(1900);const n={data:function(){return{input_file:"",isUploading:!1,saves:""}},components:{SaveListing:(0,i.Z)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",{staticClass:"list-group"},t._l(t.saves,(function(e,s){return a("li",{key:s,staticClass:"list-group-item"},[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"me-2 bg-outline-info"},[t._v(t._s(e.file_name))]),t._v(" "),a("div",{staticClass:"ms-auto"},[a("span",{staticClass:"me-3"},[t._v(t._s(e.created_at))]),t._v(" "),a("a",{staticClass:"text-primary me-2",attrs:{href:"#!"},on:{click:function(a){return t.download(e)}}},[a("i",{staticClass:"fa fa-download"}),t._v(" Download")]),t._v(" "),a("a",{staticClass:"text-danger",attrs:{href:"#!"},on:{click:function(a){return t.deleteSave(e)}}},[a("i",{staticClass:"fa fa-trash-o"}),t._v(" Delete")])])])])})),0)])}),[],!1,null,"346f5b0c",null).exports},props:[],computed:{},methods:{dragOver:function(t){t.preventDefault(),this.$refs.dropbox.classList.add("shadow","border-5")},dragLeave:function(){this.$refs.dropbox.classList.remove("shadow","border-5")},dropped:function(t){t.preventDefault(),t.dataTransfer.files[0].size>2048e4?this.$parent.notification.message.push("File is too large. Only 20MB allowed!"):(this.input_file=t.dataTransfer.files[0],this.isUploading=!0)},inputFile:function(t){t.target.files[0].size>2048e4?this.$parent.notification.message.push("File is too large. Only 20MB allowed!"):(this.input_file=t.target.files[0]||t.dataTransfer.files[0],this.isUploading=!0)},UploadFile:function(){var t=this,e=new FormData;e.append("file",this.input_file);var a="Bearer ".concat(this.$store.getters.currentUser.token);axios.post("/api/save",e,{headers:{Authorization:a}}).then((function(e){t.isUploading=!1,t.input_file="",t.saves=e.data})).catch((function(t){}))},cancelUpload:function(){this.isUploading=!1}},updated:function(){},mounted:function(){var t=this,e="Bearer ".concat(this.$store.getters.currentUser.token);axios({method:"get",url:"/api/save",headers:{Authorization:e}}).then((function(e){t.saves=e.data,console.log(t.saves)})).catch((function(t){}))}};const o=(0,i.Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"space-intro"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-8"},[a("div",{staticClass:"d-flex justify-content-center mb-3",attrs:{id:"myId"}},[a("label",{ref:"dropbox",staticClass:"pointer border border-info",attrs:{for:"input_upload"},on:{dragover:t.dragOver,dragleave:t.dragLeave}},[a("div",{staticClass:"card border-0"},[a("div",{staticClass:"m-auto bg-muted text-center",staticStyle:{height:"200px",padding:"50px",width:"450px"},on:{drop:t.dropped}},[a("input",{staticClass:"d-none",attrs:{type:"file",id:"input_upload",accept:".zip,.rar,.7zip"},on:{change:function(e){return t.inputFile(e)}}}),t._v(" "),a("i",{staticClass:"fa fa-upload fa-5x text-primary"})])])])]),t._v(" "),t.isUploading?a("div",{staticClass:"d-flex mb-4"},[t._m(0),t._v(" "),a("div",[a("button",{staticClass:"btn btn-sm btn-primary",on:{click:t.UploadFile}},[t._v("\n                Upload\n              ")]),t._v(" "),a("button",{staticClass:"btn btn-danger btn-sm",on:{click:t.cancelUpload}},[a("i",{staticClass:"fa fa-close"}),t._v(" Cancel\n              ")])])]):t._e(),t._v(" "),a("SaveListing",{attrs:{saves:t.saves}})],1),t._v(" "),a("div",{staticClass:"col-md-4"},[t._v("s")])])])])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"progress flex-fill mt-2 me-4"},[a("div",{staticClass:"progress-bar progress-bar-striped progress-bar-animated",staticStyle:{width:"0%"}},[t._v("\n                0%\n              ")])])}],!1,null,null,null).exports}}]);